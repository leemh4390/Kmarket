<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">	  
    <meta charset="UTF-8">
    <title>Admin</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://kit.fontawesome.com/20962f3e4b.js" crossorigin="anonymous"></script>    
    <script src="./js/gnb.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" th:href="@{/css/admin_style.css}"/>
</head>
<script>
    $(document).ready(function(){
    	
        $('#gnb > li > a').click(function(){
            $(this).next().slideToggle();
        });
        
    	
    	let currentUrl = window.location.href;
    	
    	let url = currentUrl.substring(44);
    	
    	//console.log(currentUrl.lastIndexOf("/"));
    	
    	let adminUrl = currentUrl.substring(36);
    	
    	console.log("adminUrl : " + adminUrl);
    	
    	if(url == "list"){
    		$('#gnb > li:nth-of-type(4) > a').next().slideToggle();
    		$('#gnb > li:nth-of-type(4) > ol > li:nth-child(1) a').addClass("on");
    	}else if(url == "register"){
    		$('#gnb > li:nth-of-type(4) > a').next().slideToggle();
    		$('#gnb > li:nth-of-type(4) > ol > li:nth-child(2) a').addClass("on");
    	}
    	
    	
    	if(adminUrl == "faq_list"){
    		$('#gnb > li:nth-of-type(6) > a').next().slideToggle();
    		$('#gnb > li:nth-of-type(6) > ol > li:nth-child(1) a').addClass("on");
    	}else if(adminUrl == "notice_list"){
    		$('#gnb > li:nth-of-type(6) > a').next().slideToggle();
    		$('#gnb > li:nth-of-type(6) > ol > li:nth-child(2) a').addClass("on");
    	}else if(adminUrl == "qna_list"){
    		$('#gnb > li:nth-of-type(6) > a').next().slideToggle();
    		$('#gnb > li:nth-of-type(6) > ol > li:nth-child(3) a').addClass("on");
    	}
    	
     
    });

</script>
<style>
	#gnb > li > ol  a.on {
		text-decoration: underline;
		font-weight: bold;
	}
</style>
<body>
    <div id="wrapper">
        <header>
            <div>
                <a th:href="@{/}" class="logo">
                    <img th:src="@{/img/admin/admin_logo.png}" alt="admin_logo">
                </a>
                <p>
                    <span>홍길동님 반갑습니다.</span> 
                    <a href="#">HOME |</a>
                    <a href="#">로그아웃 |</a>
                    <a href="#">고객센터 |</a>
                 </p>
            </div>
        </header>
        <main>
    <aside>
        <ul id="gnb">
            <li>
                <a href="#"><i class="fa fa-cogs" aria-hidden="true"></i>환경설정</a>
                <ol>
                    <li><a href="#">기본환경설정</a></li>
                    <li><a href="#">배너관리</a></li>
                </ol>
            </li>
            <li>
                <a href="#"><i class="fas fa-store" aria-hidden="true"></i>상점관리</a>
                <ol>
                    <li><a href="#">판매자현황</a></li>
                    <li><a href="#">재고관리</a></li>
                </ol>
            </li>
            <li>
                <a href="#"><i class="fa fa-users" aria-hidden="true"></i>회원관리</a>
                <ol>
                    <li><a href="#">회원현황</a></li>
                    <li><a href="#">포인트관리</a></li>
                    <li><a href="#">비회원관리</a></li>
                    <li><a href="#">접속자집계</a></li>
                </ol>
            </li>
            <li>
                <a href="#"><i class="fas fa-box-open" aria-hidden="true"></i>상품관리</a>
                <ol>
                    <li><a th:href="@{/admin/product/list}">상품현황</a></li>
                    <li><a th:href="@{/admin/product/register}">상품등록</a></li>
                </ol>
            </li>
            <li>
                <a href="#"><i class="fa fa-credit-card" aria-hidden="true"></i>주문관리</a>
                <ol>
                    <li><a href="#">주문현황</a></li>
                    <li><a href="#">매출현황</a></li>
                    <li><a href="#">결제관리</a></li>
                    <li><a href="#">배송관리</a></li>
                </ol>
            </li>
            <li>
                <a href="#"><i class="fa fa-pencil-square-o" aria-hidden="true"></i>게시판관리</a>
                <ol>
                    <li><a th:href="@{/admin/faq_list}">자주묻는질문</a></li>
                    <li><a th:href="@{/admin/notice_list}">공지사항</a></li>
                    <li><a th:href="@{/admin/qna_list}">고객문의</a></li>
                </ol>
            </li>
        </ul>
    </aside>